<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="view_stock_move_line_operation_tree_inherit_szm" model="ir.ui.view">
        <field name="name">stock.move.line.operations.tree.inherit.szm</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_stock_move_line_operation_tree"/>

        <field name="arch" type="xml">
            <xpath expr="//field[@name='lot_name']" position="before">
                <button name="action_create_custom_lot_no_szm" type="object" class="btn btn-primary fa fa-plus-square-o" groups="stock.group_production_lot" context="{'default_company_id': parent.company_id, 'default_product_id': parent.product_id, 'active_picking_id': picking_id}" attrs="{'invisible': [('lot_id', '=', False),('lot_name', '!=', False)]}"/>
            </xpath>				
    </field>

	</record>
</odoo>


<odoo>
	<record id="view_stock_move_nosuggest_inherit_szm" model="ir.ui.view">
        <field name="name">stock.move.nosuggest.inherit.szm</field>
        <field name="model">stock.move</field>
        <field name="inherit_id" ref="stock.view_stock_move_nosuggest_operations"/>

        <field name="arch" type="xml">
            <xpath expr="//field[@name='move_line_nosuggest_ids']" position="before">
                <button name="action_create_custom_lot_no_szm" type="object" class="btn btn-primary fa fa-plus-square-o" groups="stock.group_production_lot" context="{'default_company_id': parent.company_id, 'default_product_id': parent.product_id, 'active_picking_id': picking_id}" attrs="{'invisible': [('lot_id', '=', False),('lot_name', '!=', False)]}"/>
            </xpath>				
    </field>

	</record>
</odoo>




Register lots, packs, location
<button name="action_show_details" string="Register lots, packs, location"
                                            class="o_icon_button fa fa-list" type="object"
                                            attrs="{'invisible': [('show_details_visible', '=', False)]}" options='{"warn": true}'/>
                                            

/src/odoo/addons/stock/models/stock_move.py
move_line_nosuggest_ids 
/src/odoo/addons/stock/views/stock_move_views.xml

parent.show_lots_text - missing