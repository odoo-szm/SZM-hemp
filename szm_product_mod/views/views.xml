<?xml version="1.0" encoding="utf-8"?>
<!--
Date        Who             Description
Jan 11 2021 Jeff Mueller    Added various fields to acceptance page.
Feb 16 2021 Jeff Mueller    Changed visibility based on sale flag.
-->

<odoo>
  <data>
<!-- Change List and Form views -->
    <record model="ir.ui.view" id="szm_product_form_extend_two">
      <field name="name">szm.product.form.extend.two</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="product.product_template_only_form_view"/>
      <field name="arch" type="xml">
        <data>
          <xpath expr="//form[@name='Product Template']/sheet[1]/notebook[1]" position="inside">
            <page name="szm_accept_page" string="Acceptance">
              <group name="szm_group_criteria">
                <group name="szm_group_criteria_left">
                  <field name="szm_risk" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_coo" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_manf_specs" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_coa_file" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_coa_per_lot" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_algrn"/>
                  <field name="szm_algrn_stmt" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                </group>
                <group name="szm_group_criteria_right" attrs="{'invisible': [('sale_ok','=',True)]}">
                  <field name="szm_compose"/>
                  <field name="szm_prod_meth"/>
                  <field name="szm_spec_req"/>
                  <field name="szm_gras"/>
                  <field name="szm_acpt_doc"/>
                  <field name="szm_criteria"/>
                </group>
              </group>
            </page>
          </xpath>
        </data>
      </field>
    </record>
<!-- Change List and Form views Product -->
    <record model="ir.ui.view" id="szm_product_normal_form_extend">
      <field name="name">szm.product.normal.form.extend</field>
      <field name="model">product.product</field>
      <field name="inherit_id" ref="product.product_normal_form_view"/>
      <field name="arch" type="xml">
          <xpath expr="//page[@name='general_information']" position="before">
            <page name="szm_accept_page" string="Acceptance">
              <group name="szm_group_criteria">
                <group name="szm_group_criteria_left">
                  <field name="szm_risk" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_coo" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_manf_specs" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_coa_file" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_coa_per_lot" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                  <field name="szm_algrn"/>
                  <field name="szm_algrn_stmt" attrs="{'invisible': [('sale_ok','=',True)]}"/>
                </group>
                <group name="szm_group_criteria_right" attrs="{'invisible': [('sale_ok','=',True)]}">
                  <field name="szm_compose"/>
                  <field name="szm_prod_meth"/>
                  <field name="szm_spec_req"/>
                  <field name="szm_gras"/>
                  <field name="szm_acpt_doc"/>
                  <field name="szm_criteria"/>
                </group>
              </group>
            </page>
          </xpath>
      </field>
    </record>
  </data>
</odoo>